apiVersion: v1
kind: ConfigMap
metadata:
  name: opal-server-configmap
  namespace: hm-opa
data:
  opal_broadcast_uri: "postgres://admin:passw0rd@opal-broadcast-channel-service.hm-opa:34876/opal_server_db"
  opal_data_config_sources: '{"config":{"entries":[{"url":"postgresql://admin@opa-db-service.hm-opa:40072/opa_db","config":{"fetcher":"PostgresFetchProvider","query":"select role, allow from roles;","connection_params":{"password":"passw0rd"}},"topics":["policy_data"],"dst_path":"roles"}]}}'
  opal_policy_repo_polling_interval: "30"
  opal_policy_repo_url: "https://github.com/Hongbo-Miao/opal-example-policy-repo"
  uvicorn_num_workers: "4"
  opal_log_module_exclude_list: "[]"
  opal_log_colorize: "false"
