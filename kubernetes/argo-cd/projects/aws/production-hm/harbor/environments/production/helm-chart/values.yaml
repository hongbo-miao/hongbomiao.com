# https://github.com/goharbor/harbor-helm/blob/main/values.yaml
---
expose:
  type: clusterIP
  tls:
    enabled: false
externalURL: https://harbor.hongbomiao.com
existingSecretAdminPassword: hm-harbor-secret
existingSecretAdminPasswordKey: HARBOR_ADMIN_PASSWORD
core:
  replicas: 3
  resources:
    requests:
      cpu: 20m
      memory: 100Mi
    limits:
      memory: 200Mi
jobservice:
  replicas: 3
  jobLoggers:
    - stdout
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
    limits:
      memory: 200Mi
portal:
  replicas: 3
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
    limits:
      memory: 200Mi
registry:
  replicas: 3
  registry:
    resources:
      requests:
        cpu: 300m
        memory: 600Mi
      limits:
        memory: 800Mi
  controller:
    resources:
      requests:
        cpu: 10m
        memory: 100Mi
      limits:
        memory: 200Mi
trivy:
  replicas: 1
  resources:
    requests:
      cpu: 10m
      memory: 300Mi
    limits:
      memory: 600Mi
redis:
  type: internal
  internal:
    resources:
      requests:
        cpu: 10m
        memory: 100Mi
      limits:
        memory: 200Mi
persistence:
  enabled: true
  resourcePolicy: keep
  persistentVolumeClaim:
    trivy:
      accessMode: ReadWriteOnce
      size: 5Gi
      storageClass: production-hm-harbor-storage-class
    redis:
      accessMode: ReadWriteOnce
      size: 1Gi
      storageClass: production-hm-harbor-storage-class
  imageChartStorage:
    type: s3
    s3:
      region: us-west-2
      bucket: production-hm-harbor-bucket
      existingSecret: hm-harbor-secret
database:
  type: external
  external:
    host: production-hm-harbor-postgres.xxxxxxxxxxxx.us-west-2.rds.amazonaws.com
    port: 5432
    username: harbor_user
    coreDatabase: harbor_db
    existingSecret: hm-harbor-secret
    sslmode: require
