# https://github.com/traefik/traefik-helm-chart/blob/master/traefik/values.yaml
---
image:
  registry: public.ecr.aws
  repository: docker/library/traefik
deployment:
  replicas: 3
providers:
  kubernetesIngress:
    publishedService:
      enabled: true
service:
  enabled: true
  type: LoadBalancer
  annotations:
    # https://docs.nebius.com/kubernetes/clusters/load-balancer
    nebius.com/load-balancer-type: internal
ports:
  traefik:
    expose:
      default: true
  web:
    redirections:
      entryPoint:
        to: websecure
        scheme: https
        permanent: true
    transport:
      respondingTimeouts:
        readTimeout: 30m
  websecure:
    forwardedHeaders:
      trustedIPs:
        - 10.0.0.0/8
        - 172.16.0.0/12
        - 192.168.0.0/16
    transport:
      respondingTimeouts:
        readTimeout: 30m
resources:
  requests:
    cpu: 20m
    memory: 100Mi
  limits:
    memory: 200Mi
globalArguments: []
# additionalArguments:
#   - --log.level=DEBUG
