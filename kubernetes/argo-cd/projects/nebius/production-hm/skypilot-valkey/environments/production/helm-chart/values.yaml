# https://github.com/valkey-io/valkey-helm/blob/main/valkey/values.yaml
---
global:
  imageRegistry: harbor.hongbomiao.com/docker-hub-proxy-cache
auth:
  enabled: true
  usersExistingSecret: hm-skypilot-valkey-secret
  aclUsers:
    default:
      permissions: "~* &* +@all"
      passwordKey: VALKEY_PASSWORD
replica:
  enabled: true
  replicas: 2
  persistence:
    size: 1Gi
    storageClass: production-hm-skypilot-valkey-storage-class
    accessModes:
      - ReadWriteOnce
topologySpreadConstraints:
  - maxSkew: 1
    topologyKey: kubernetes.io/hostname
    whenUnsatisfiable: DoNotSchedule
    labelSelector:
      matchLabels:
        app.kubernetes.io/name: valkey
resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 512Mi
