---
- name: Install common packages
  hosts: hm-ubuntu
  tasks:
    - name: Install common packages from Snap
      become: true
      become_user: root
      community.general.snap:
        name:
          - btop
          - htop
        state: present
    - name: Install common packages from Snap (edge)
      become: true
      become_user: root
      community.general.snap:
        name:
          - vnstat
        state: present
        channel: edge

- name: Install pyenv
  hosts: hm-ubuntu
  roles:
    - role: staticdev.pyenv
      # https://github.com/pyenv/pyenv/releases
      pyenv_version: v2.3.23
      pyenv_env: user
      pyenv_python_versions:
        - 3.11.4
      pyenv_global:
        - 3.11.4

- name: Install Rclone
  hosts: hm-ubuntu
  tasks:
    - name: Install Rclone
      ansible.builtin.include_role:
        name: stefangweichinger.ansible_rclone
      vars:
        # https://github.com/stefangweichinger/ansible-rclone/blob/main/defaults/main.yml
        rclone_arch: arm64
