# https://docs.mergify.com/configuration

---
pull_request_rules:
  - name: Automatic merge pull requests
    conditions:
      - base=main
      - or:
          - author=hongbo-miao
          - author=renovate[bot]
      - or:
          - check-success=Lint / Ansible
          - check-skipped=Lint / Ansible
      - or:
          - check-success=Lint / C, C++
          - check-skipped=Lint / C, C++
      - or:
          - check-success=Lint / CMake
          - check-skipped=Lint / CMake
      - or:
          - check-success=Lint / Commit Message
          - check-skipped=Lint / Commit Message
      - or:
          - check-success=Lint / CSS
          - check-skipped=Lint / CSS
      - or:
          - check-success=Lint / Dockerfile
          - check-skipped=Lint / Dockerfile
      - or:
          - check-success=Lint / Go
          - check-skipped=Lint / Go
      - or:
          - check-success=Lint / JavaScript (api-node)
          - check-skipped=Lint / JavaScript (api-node)
      - or:
          - check-success=Lint / JavaScript (ethereum)
          - check-skipped=Lint / JavaScript (ethereum)
      - or:
          - check-success=Lint / JavaScript (grafana-hm-panel-plugin)
          - check-skipped=Lint / JavaScript (grafana-hm-panel-plugin)
      - or:
          - check-success=Lint / JavaScript (mobile-react-native)
          - check-skipped=Lint / JavaScript (mobile-react-native)
      - or:
          - check-success=Lint / JavaScript (web)
          - check-skipped=Lint / JavaScript (web)
      - or:
          - check-success=Lint / JavaScript (web-cypress)
          - check-skipped=Lint / JavaScript (web-cypress)
      - or:
          - check-success=Lint / Kotlin (mobile-android)
          - check-skipped=Lint / Kotlin (mobile-android)
      - or:
          - check-success=Lint / Kubernetes Manifest
          - check-skipped=Lint / Kubernetes Manifest
      - or:
          - check-success=Lint / Markdown
          - check-skipped=Lint / Markdown
      - or:
          - check-success=Lint / MATLAB
          - check-skipped=Lint / MATLAB
      - or:
          - check-success=Lint / Protocol Buffers (api-go)
          - check-skipped=Lint / Protocol Buffers (api-go)
      - or:
          - check-success=Lint / Python
          - check-skipped=Lint / Python
      - or:
          - check-success=Lint / QML
          - check-skipped=Lint / QML
      - or:
          - check-success=Lint / Ruby
          - check-skipped=Lint / Ruby
      - or:
          - check-success=Lint / Scala (hm-spark-find-retired-people-scala)
          - check-skipped=Lint / Scala (hm-spark-find-retired-people-scala)
      - or:
          - check-success=Lint / Scala (hm-spark-ingest-from-s3-to-kafka)
          - check-skipped=Lint / Scala (hm-spark-ingest-from-s3-to-kafka)
      - or:
          - check-success=Lint / Shell
          - check-skipped=Lint / Shell
      - or:
          - check-success=Lint / Solidity
          - check-skipped=Lint / Solidity
      - or:
          - check-success=Lint / SQL
          - check-skipped=Lint / SQL
      - or:
          - check-success=Lint / Terraform
          - check-skipped=Lint / Terraform
      - or:
          - check-success=Lint / XML
          - check-skipped=Lint / XML
      - or:
          - check-success=Lint / VHDL
          - check-skipped=Lint / VHDL
      - or:
          - check-success=Lint / YAML
          - check-skipped=Lint / YAML
      - or:
          - check-success=Static Type Check / Kotlin (mobile-android)
          - check-skipped=Static Type Check / Kotlin (mobile-android)
      - or:
          - check-success=Static Type Check / Python
          - check-skipped=Static Type Check / Python
      - or:
          - check-success=Static Type Check / Terraform (development/aws)
          - check-skipped=Static Type Check / Terraform (development/aws)
      - or:
          - check-success=Static Type Check / Terraform (production/aws)
          - check-skipped=Static Type Check / Terraform (production/aws)
      - or:
          - check-success=Static Type Check / Terraform (development/snowflake)
          - check-skipped=Static Type Check / Terraform (development/snowflake)
      - or:
          - check-success=Static Type Check / Terraform (production/snowflake)
          - check-skipped=Static Type Check / Terraform (production/snowflake)
      - or:
          - check-success=Static Type Check / TypeScript (api-node)
          - check-skipped=Static Type Check / TypeScript (api-node)
      - or:
          - check-success=Static Type Check / TypeScript (ethereum)
          - check-skipped=Static Type Check / TypeScript (ethereum)
      - or:
          - check-success=Static Type Check / TypeScript (grafana-hm-panel-plugin)
          - check-skipped=Static Type Check / TypeScript (grafana-hm-panel-plugin)
      - or:
          - check-success=Static Type Check / TypeScript (mobile-react-native)
          - check-skipped=Static Type Check / TypeScript (mobile-react-native)
      - or:
          - check-success=Static Type Check / TypeScript (web)
          - check-skipped=Static Type Check / TypeScript (web)
      - or:
          - check-success=Static Type Check / TypeScript (web-cypress)
          - check-skipped=Static Type Check / TypeScript (web-cypress)
      - or:
          - check-success=Web | Test
          - check-skipped=Web | Test
      - or:
          - check-success=Web | End-to-End Test
          - check-skipped=Web | End-to-End Test
      - or:
          - check-success=Web | Lighthouse
          - check-skipped=Web | Lighthouse
      - or:
          - check-success=Web | Visual Test
          - check-skipped=Web | Visual Test
      - or:
          - check-success=Mobile - iOS | Test
          - check-skipped=Mobile - iOS | Test
      - or:
          - check-success=Mobile - Android | Lint
          - check-skipped=Mobile - Android | Lint
      - or:
          - check-success=Mobile - Android | Test
          - check-skipped=Mobile - Android | Test
      - or:
          - check-success=Mobile - Android | Instrumented Test
          - check-skipped=Mobile - Android | Instrumented Test
      - or:
          - check-success=Mobile - React Native | Test
          - check-skipped=Mobile - React Native | Test
      - or:
          - check-success=API - Go | Test
          - check-skipped=API - Go | Test
      - or:
          - check-success=API - Node.js | Test
          - check-skipped=API - Node.js | Test
      - or:
          - check-success=API - Node.js | Mutation Test
          - check-skipped=API - Node.js | Mutation Test
      - or:
          - check-success=API - Python | Test
          - check-skipped=API - Python | Test
      - or:
          - check-success=Airflow | Test
          - check-skipped=Airflow | Test
      - or:
          - check-success=Amazon SageMaker (pytorch-mnist) | Test
          - check-skipped=Amazon SageMaker (pytorch-mnist) | Test
      - or:
          - check-success=AWS Glue (spark-scripts) | Test
          - check-skipped=AWS Glue (spark-scripts) | Test
      - or:
          - check-success=AWS ParallelCluster | Test
          - check-skipped=AWS ParallelCluster | Test
      # - or:
      #     - check-success=Call MATLAB Function in Python | Test
      #     - check-skipped=Call MATLAB Function in Python | Test
      - or:
          - check-success=Decode CAN Data | Test
          - check-skipped=Decode CAN Data | Test
      - or:
          - check-success=Format CAN Data | Test
          - check-skipped=Format CAN Data | Test
      - or:
          - check-success=Data Distribution Service | Test
          - check-skipped=Data Distribution Service | Test
      - or:
          - check-success=dbt (hm-postgres) | Test
          - check-skipped=dbt (hm-postgres) | Test
      - or:
          - check-success=Delta Lake (read-delta-lake-by-amazon-athena) | Test
          - check-skipped=Delta Lake (read-delta-lake-by-amazon-athena) | Test
      - or:
          - check-success=Delta Lake (read-delta-lake-by-trino) | Test
          - check-skipped=Delta Lake (read-delta-lake-by-trino) | Test
      - or:
          - check-success=Delta Lake (write-to-delta-lake) | Test
          - check-skipped=Delta Lake (write-to-delta-lake) | Test
      - or:
          - check-success=AutoGluon | Test
          - check-skipped=AutoGluon | Test
      - or:
          - check-success=Feature Store | Test
          - check-skipped=Feature Store | Test
      - or:
          - check-success=GeoPandas | Test
          - check-skipped=GeoPandas | Test
      - or:
          - check-success=Hugging Face (analyze-sentiment) | Test
          - check-skipped=Hugging Face (analyze-sentiment) | Test
      - or:
          - check-success=Gradio (classify-image) | Test
          - check-skipped=Gradio (classify-image) | Test
      - or:
          - check-success=Streamlit (live-line-chart) | Test
          - check-skipped=Streamlit (live-line-chart) | Test
      - or:
          - check-success=Streamlit (map) | Test
          - check-skipped=Streamlit (map) | Test
      - or:
          - check-success=Kubeflow (calculate) | Test
          - check-skipped=Kubeflow (calculate) | Test
      - or:
          - check-success=Kubeflow (classify-mnist) | Test
          - check-skipped=Kubeflow (classify-mnist) | Test
      - or:
          - check-success=LangChain (chat-pdf) | Test
          - check-skipped=LangChain (chat-pdf) | Test
      - or:
          - check-success=MLflow (classify-mnist) | Test
          - check-skipped=MLflow (classify-mnist) | Test
      - or:
          - check-success=MLflow (predict-diabetes) | Test
          - check-skipped=MLflow (predict-diabetes) | Test
      - or:
          - check-success=Neural Forecasting (forecast-air-passenger-number) | Test
          - check-skipped=Neural Forecasting (forecast-air-passenger-number) | Test
      - or:
          - check-success=National Instruments (ni-veristand) | Test
          - check-skipped=National Instruments (ni-veristand) | Test
      - or:
          - check-success=National Instruments (pyvisa) | Test
          - check-skipped=National Instruments (pyvisa) | Test
      - or:
          - check-success=National Instruments (tdms) | Test
          - check-skipped=National Instruments (tdms) | Test
      - or:
          - check-success=Open3D | Test
          - check-skipped=Open3D | Test
      - or:
          - check-success=Prefect (calculate) | Test
          - check-skipped=Prefect (calculate) | Test
      - or:
          - check-success=Prefect (greet) | Test
          - check-skipped=Prefect (greet) | Test
      - or:
          - check-success=Prefect (ingest-data) | Test
          - check-skipped=Prefect (ingest-data) | Test
      - or:
          - check-success=Prefect (print-platform) | Test
          - check-skipped=Prefect (print-platform) | Test
      - or:
          - check-success=Prowler | Test
          - check-skipped=Prowler | Test
      - or:
          - check-success=Pulumi | Test
          - check-skipped=Pulumi | Test
      - or:
          - check-success=PyVista (mount-saint-helens) | Test
          - check-skipped=PyVista (mount-saint-helens) | Test
      - or:
          - check-success=Ray (greet) | Test
          - check-skipped=Ray (greet) | Test
      - or:
          - check-success=Reinforcement Learning (cart-pole) | Test
          - check-skipped=Reinforcement Learning (cart-pole) | Test
      - or:
          - check-success=Serial | Test
          - check-skipped=Serial | Test
      - or:
          - check-success=SkyPilot | Test
          - check-skipped=SkyPilot | Test
      - or:
          - check-success=supervision (detect-objects) | Test
          - check-skipped=supervision (detect-objects) | Test
      - or:
          - check-success=xxHash | Test
          - check-skipped=xxHash | Test
      - or:
          - check-success=Spark (analyze-coffee-customers) | Test
          - check-skipped=Spark (analyze-coffee-customers) | Test
      - or:
          - check-success=Spark (find-retired-people-python) | Test
          - check-skipped=Spark (find-retired-people-python) | Test
      - or:
          - check-success=Spark (find-retired-people-scala) | Test
          - check-skipped=Spark (find-retired-people-scala) | Test
      - or:
          - check-success=Spark (find-taxi-top-routes) | Test
          - check-skipped=Spark (find-taxi-top-routes) | Test
      - or:
          - check-success=Spark (find-taxi-top-routes-sql) | Test
          - check-skipped=Spark (find-taxi-top-routes-sql) | Test
      - or:
          - check-success=Spark (ingest-from-s3-to-kafka) | Test
          - check-skipped=Spark (ingest-from-s3-to-kafka) | Test
      - or:
          - check-success=Spark (recommend-movies) | Test
          - check-skipped=Spark (recommend-movies) | Test
      - or:
          - check-success=Flink (stream-tweets) | Test
          - check-skipped=Flink (stream-tweets) | Test
      - or:
          - check-success=OPA | Test
          - check-skipped=OPA | Test
      - or:
          - check-success=ROS | Test
          - check-skipped=ROS | Test
      - or:
          - check-success=Prometheus | Test
          - check-skipped=Prometheus | Test
      - or:
          - check-success=Grafana (hm-dashboard) | Test
          - check-skipped=Grafana (hm-dashboard) | Test
      - or:
          - check-success=Grafana (hm-panel-plugin) | End-to-End Test
          - check-skipped=Grafana (hm-panel-plugin) | End-to-End Test
      - or:
          - check-success=Grafana (hm-panel-plugin) | Compatibility Test
          - check-skipped=Grafana (hm-panel-plugin) | Compatibility Test
      - or:
          - check-success=HM OPAL Client | Build
          - check-skipped=HM OPAL Client | Build
      - or:
          - check-success=Rasa | Test
          - check-skipped=Rasa | Test
      - or:
          - check-success=GNN | Test
          - check-skipped=GNN | Test
      - or:
          - check-success=GNN | Train
          - check-skipped=GNN | Train
      - or:
          - check-success=CNN | Test
          - check-skipped=CNN | Test
      - or:
          - check-success=CNN | CML (Local) - Train
          - check-skipped=CNN | CML (Local) - Train
      - check-failure!=renovate/artifacts
    actions:
      review:
        type: APPROVE
      merge:
        method: squash
