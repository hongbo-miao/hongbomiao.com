# https://docs.mergify.com/configuration

---
pull_request_rules:
  - name: Automatic merge for Hongbo-Miao pull requests
    conditions:
      - author=Hongbo-Miao
      - check-success=Lint | C, C++
      - check-success=Lint | CMake
      - check-success=Lint | Commit Message
      - check-success=Lint | CSS, Markdown, Solidity
      - check-success=Lint | Dockerfile
      - check-success=Lint | Go
      - check-success=Lint | JavaScript
      - check-success=Lint | Kotlin
      - check-success=Lint | Kubernetes Manifest
      - check-success=Lint | Protocol Buffers
      - check-success=Lint | Python
      - check-success=Lint | QML
      - check-success=Lint | Ruby
      - check-success=Lint | Shell
      - check-success=Lint | SQL
      - check-success=Lint | Terraform
      - check-success=Lint | YAML
      - check-success=Static Type Check | Kotlin
      - check-success=Static Type Check | Python
      - check-success=Static Type Check | Terraform
      - check-success=Static Type Check | TypeScript
      - check-success=Web | Test
      - check-success=Web | End-to-End Test
      - check-success=Web | Lighthouse
      - check-success=Web | Visual Test
      - check-success=Mobile - iOS | Test
      - check-success=Mobile - Android | Lint
      - check-success=Mobile - Android | Test
      - check-success=Mobile - Android | Instrumented Test
      - check-success=Mobile - React Native | Test
      - check-success=API - Go | Test
      - check-success=API - Node.js | Test
      - check-success=API - Node.js | Mutation Test
      - check-success=API - Python (Flask) | Test
      - check-success=Prefect | Test
      - check-success=Streaming | Test
      - check-success=OPA | Test
      - check-success=Rasa | Test
      - check-success=Prometheus | Test
      - check-success=Grafana | End-to-End Test
      - check-success=Grafana | Compatibility Test
      - base=main
      - label!=work in progress
    actions:
      merge:
        method: rebase

  - name: Automatic merge for Renovate pull requests
    conditions:
      - author=renovate[bot]
      - check-success=Lint | C, C++
      - check-success=Lint | CMake
      - check-success=Lint | Commit Message
      - check-success=Lint | CSS, Markdown, Solidity
      - check-success=Lint | Dockerfile
      - check-success=Lint | Go
      - check-success=Lint | JavaScript
      - check-success=Lint | Kotlin
      - check-success=Lint | Kubernetes Manifest
      - check-success=Lint | Protocol Buffers
      - check-success=Lint | Python
      - check-success=Lint | QML
      - check-success=Lint | Ruby
      - check-success=Lint | Shell
      - check-success=Lint | SQL
      - check-success=Lint | Terraform
      - check-success=Lint | YAML
      - check-success=Static Type Check | Kotlin
      - check-success=Static Type Check | Python
      - check-success=Static Type Check | Terraform
      - check-success=Static Type Check | TypeScript
      - check-success=Web | Test
      - check-success=Web | End-to-End Test
      - check-success=Web | Lighthouse
      - check-success=Web | Visual Test
      - check-success=Mobile - iOS | Test
      - check-success=Mobile - Android | Lint
      - check-success=Mobile - Android | Test
      - check-success=Mobile - Android | Instrumented Test
      - check-success=Mobile - React Native | Test
      - check-success=API - Go | Test
      - check-success=API - Node.js | Test
      - check-success=API - Node.js | Mutation Test
      - check-success=API - Python (Flask) | Test
      - check-success=Prefect | Test
      - check-success=Streaming | Test
      - check-success=OPA | Test
      - check-success=Rasa | Test
      - check-success=Prometheus | Test
      - check-success=Grafana | End-to-End Test
      - check-success=Grafana | Compatibility Test
      - check-failure!=renovate/artifacts
      - base=main
    actions:
      merge:
        method: rebase
